{:path [], :nextjournal/value {:package :directory, :toc {:path [], :nextjournal/value [], :nextjournal/render-opts {:toc-visibility false, :set-hash? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/toc-viewer, :render-fn #viewer-fn nextjournal.clerk.render.navbar/render-items, :hash "5dtesrAmYqLZQQHSMEfFTNpmLtY4nC"}}, :sidenotes? false, :toc-visibility false, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns util.main), :file "src/aoc/util/main.clj", :scope util.main, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "./../../../../"} "Index"] [:span.mx-2 "â€¢"]] [:span "Generated with " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "https://clerk.vision"} "Clerk"] [:<> " from " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href nil} "src/aoc/util/main.clj" nil]]]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}, :open-graph {:type "article:clerk", :title nil, :description "Helper Functions of AoC"}, :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "dev.user/markdown-5dtqNSDq14LsC45qKgwBw3YhDfZdGh"} [:p [:<> "Helper Functions of AoC"]]], :nextjournal/render-opts {:id "dev.user/markdown-5dtqNSDq14LsC45qKgwBw3YhDfZdGh"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(ns util.main\n  (:require [clojure.data.int-map :as i]))", :nextjournal/render-opts {:loc {:line 3, :end-line 4, :column 1, :end-column 43}, :id "util.main/anon-expr-5drFRwkXc3MKYrNMWhzG9Jd5GPVwzz-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "util.main/markdown-5dtUAXTygiQsZqWNTGFgkoeYYwYtG1"} [:p [:<> "Thanks to narimiran/aoc2024"]]], :nextjournal/render-opts {:id "util.main/markdown-5dtUAXTygiQsZqWNTGFgkoeYYwYtG1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn grid->point-map\n  \"Converts a 2D grid (vector of vectors) into a map of points based on a predicate.\n   The keys can be unique integers (if a multiplier is provided) or coordinate vectors.\n\n   Parameters:\n   - v: The 2D grid vector.\n   - pred: A predicate function to filter characters (default: identity).\n   - mult: An optional multiplier for generating unique keys.\"\n\n  ;; Overload for a single argument: grid vector.\n  ([v] (grid->point-map v identity nil))\n  ;; Overload for two arguments: grid vector and a predicate function.\n  ([v pred] (grid->point-map v pred nil))\n  ;; Main function with three arguments: grid vector, predicate function, and an optional multiplier.\n  ([v pred mult]\n   ;; Constructs a map by filtering and transforming the grid based on the predicate.\n   (into (if mult (i/int-map) {})\n         (for [[^long y line] (map-indexed vector v) ;; Iterate over each row with its index.\n               [^long x char] (map-indexed vector line) ;; Iterate over each character in the row with its index.\n               :when (pred char)] ;; Filter characters based on the provided predicate.\n           (if mult\n             ;; If a multiplier is provided, create a unique key based on the row and column indices.\n             [(+ (* y ^long mult) x) char]\n             ;; If no multiplier, use the coordinates as the key\n             [[x y] char])))))", :nextjournal/render-opts {:loc {:line 7, :end-line 31, :column 1, :end-column 31}, :id "util.main/grid->point-map-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#function[util.main/grid->point-map]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "util.main/grid->point-map-result-1"}}, :nextjournal/blob-id nil}, :nextjournal/render-opts {:id "util.main/grid->point-map-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash "5duAFDxE4sCnRX71Wo6zeCpC9C3djE"}}